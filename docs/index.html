<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Voting App — تطبيق إدارة وفرز التصويت</title>
    <meta
      name="description"
      content="Voting App — سريع، محلي، ومصمم للعمل داخل اللجان والمدارس. واجهة عربية كاملة وملف APK للتحميل."
    />
    <meta name="theme-color" content="#2a9d8f" />

    <!-- Open Graph -->
    <meta property="og:title" content="Voting App — تطبيق إدارة وفرز التصويت" />
    <meta
      property="og:description"
      content="سريع، محلي، مصمم للعمل داخل اللجان والمدارس — واجهة عربية كاملة (RTL)."
    />
    <meta property="og:image" content="assets/cover.svg" />
    <meta property="og:type" content="website" />

    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <div class="brand">
          <img src="assets/cover.svg" alt="Voting App" class="logo" />
          <div>
            <h1>Voting App — تطبيق إدارة وفرز التصويت</h1>
            <p class="tag">
              سريع. محلي. مصمم للعمل داخل اللجان والمدارس — واجهة جميلة وانيقة
              (RTL).
            </p>
          </div>
        </div>
        <nav class="cta-group">
          <a
            class="btn btn-primary"
            href="ClassLeaders-UPDATE-v%204.0.0.apk"
            download
            >تحميل APK الآن — v4.0.0</a
          >
          <a class="btn btn-secondary" href="#install">شاهد التعليمات</a>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero container">
        <div class="hero-grid">
          <div class="hero-text">
            <h2>واجهة جميلة وانيقة، جاهز للعمل داخل أي لجنة</h2>
            <p class="lead">
              إدارة لجان فرعية، جمع الأصوات من أجهزة متعددة، تصدير/استيراد JSON،
              وكل ذلك دون الحاجة لاتصال دائم بالإنترنت.
            </p>
            <div class="hero-actions">
              <a
                class="btn btn-primary large"
                href="ClassLeaders-UPDATE-v%204.0.0.apk"
                download
                >تحميل APK الآن — v4.0.0</a
              >
              <a class="btn btn-outline" href="#install">شاهد التثبيت</a>
            </div>
          </div>
          <div class="hero-media">
            <img src="assets/screenshots/main.jpeg" alt="لقطة شاشة" />
          </div>
        </div>
      </section>

      <section class="features container" aria-labelledby="features-title">
        <h3 id="features-title">أهم المميزات</h3>
        <div class="features-grid">
          <article class="feature">
            <div class="icon">
              <svg
                width="36"
                height="36"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  x="3"
                  y="4"
                  width="18"
                  height="4"
                  rx="1.5"
                  fill="#2a9d8f"
                />
                <rect
                  x="3"
                  y="10"
                  width="12"
                  height="4"
                  rx="1.5"
                  fill="#00b894"
                />
                <rect
                  x="3"
                  y="16"
                  width="6"
                  height="4"
                  rx="1.5"
                  fill="#9aa0a6"
                />
              </svg>
            </div>
            <h4>دعم لجان فرعية متعددة</h4>
            <p>إدارة مجموعات التصويت وتنظيم النتائج لمجموعات متعددة بسهولة.</p>
          </article>
          <article class="feature">
            <div class="icon">
              <svg
                width="36"
                height="36"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle cx="12" cy="8" r="3" fill="#2a9d8f" />
                <rect
                  x="6"
                  y="14"
                  width="12"
                  height="4"
                  rx="1.5"
                  fill="#00b894"
                />
              </svg>
            </div>
            <h4>إدخال أصوات سهل</h4>
            <p>
              واجهة بسيطة لادخال الأصوات بضغطة واحدة — مناسبة للسرعة ودقة
              التسجيل.
            </p>
          </article>
          <article class="feature">
            <div class="icon">
              <svg
                width="36"
                height="36"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M3 12h18"
                  stroke="#2a9d8f"
                  stroke-width="2"
                  stroke-linecap="round"
                />
                <path
                  d="M6 8v8"
                  stroke="#00b894"
                  stroke-width="2"
                  stroke-linecap="round"
                />
                <path
                  d="M18 8v8"
                  stroke="#9aa0a6"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <h4>تجميع أجهزة متعددة</h4>
            <p>مزج نتائج من عدة أجهزة محلياً لتكوين نتيجة موحدة وآمنة.</p>
          </article>
          <article class="feature">
            <div class="icon">
              <svg
                width="36"
                height="36"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M4 7h16v10H4z" fill="#2a9d8f" />
                <path
                  d="M8 11h8"
                  stroke="#fff"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <h4>تصدير/استيراد JSON</h4>
            <p>حفظ ومشاركة البيانت بصيغة قابلة للقراءة والمعالجة آلياً.</p>
          </article>
          <article class="feature">
            <div class="icon">
              <svg
                width="36"
                height="36"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  x="3"
                  y="4"
                  width="18"
                  height="16"
                  rx="2"
                  fill="#2a9d8f"
                />
                <path
                  d="M8 12h8"
                  stroke="#fff"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <h4>واجهة عربية ودعم RTL</h4>
            <p>
              تجربة كاملة باللغة العربية ومصممة للعمل باتجاه من اليمين إلى
              اليسار.
            </p>
          </article>
        </div>
      </section>

      <!-- <section class="screens container" id="screenshots">
        <h3>لقطات من التطبيق</h3>
        <div class="carousel" aria-roledescription="carousel">
          <button class="carousel-btn prev" aria-label="السابق">‹</button>
          <div class="carousel-track">
            <figure class="slide">
              <img
                src="assets/screenshots/screenshot-1.jpeg"
                alt="القائمة الرئيسية"
              />
              <figcaption>القائمة الرئيسية</figcaption>
            </figure>
            <figure class="slide">
              <img
                src="assets/screenshots/screenshot-1.jpeg"
                alt="القائمة الرئيسية"
              />
              <figcaption>القائمة الرئيسية</figcaption>
            </figure>
            <figure class="slide">
              <img
                src="assets/screenshots/screenshot-2.jpeg"
                alt="تجميع الأصوات"
              />
              <figcaption>تجميع الأصوات</figcaption>
            </figure>
            <figure class="slide">
              <img
                src="assets/screenshots/screenshot-3.jpeg"
                alt="استيراد/تصدير"
              />
              <figcaption>استيراد / تصدير JSON</figcaption>
            </figure>
          </div>
          <button class="carousel-btn next" aria-label="التالي">›</button>
        </div>
      </section> -->

      <section class="apk-box container" id="apk">
        <h3>ملف APK</h3>
        <div class="apk-grid">
          <div>
            <p>
              <strong>الملف:</strong>
              <code>ClassLeaders-UPDATE-v 4.0.0.apk</code>
            </p>
            <p><strong>النسخة:</strong> v4.0.0</p>
            <p><strong>تاريخ الإصدار:</strong> 2025-11-18</p>
          </div>
        </div>
      </section>

      <section class="install container" id="install">
        <h3>دليل التثبيت السريع</h3>
        <ol>
          <li>تحميل APK من الزر أعلاه.</li>
          <li>تفعيل تثبيت التطبيقات من مصادر غير معروفة في إعدادات الجهاز.</li>
          <li>فتح ملف APK وتثبيته.</li>
        </ol>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div>
          <p>
            © 2025 Voting App — كل الحقوق محفوظة. مفتوح المصدر — المساهمة مرحب
            بها.
          </p>
        </div>
        <div class="footer-links">
          <a href="#">سياسة الخصوصية</a>
        </div>
      </div>
    </footer>

    <script>
      // Simple carousel logic
      (function () {
        const track = document.querySelector(".carousel-track");
        const slides = Array.from(document.querySelectorAll(".slide"));
        const prev = document.querySelector(".carousel-btn.prev");
        const next = document.querySelector(".carousel-btn.next");
        let index = 0;
        function update() {
          const width = track.clientWidth;
          track.style.transform = `translateX(${-index * width}px)`;
        }
        window.addEventListener("resize", update);
        prev.addEventListener("click", () => {
          index = (index - 1 + slides.length) % slides.length;
          update();
        });
        next.addEventListener("click", () => {
          index = (index + 1) % slides.length;
          update();
        });
        function setSlideWidths() {
          slides.forEach((s) => (s.style.width = track.clientWidth + "px"));
        }
        setSlideWidths();
        window.addEventListener("resize", setSlideWidths);
        setInterval(() => {
          index = (index + 1) % slides.length;
          update();
        }, 4000);
      })();

      // Copy checksum
      document
        .getElementById("copyChecksum")
        .addEventListener("click", async () => {
          const val = document.getElementById("sha256").value;
          try {
            await navigator.clipboard.writeText(val);
            alert("تم نسخ checksum");
          } catch (e) {
            alert("فشل النسخ — الرجاء نسخه يدويا");
          }
        });

      // Compute SHA-256 of APK using Web Crypto
      document
        .getElementById("calcChecksum")
        .addEventListener("click", async () => {
          const url = "ClassLeaders-UPDATE-v%204.0.0.apk";
          const input = document.getElementById("sha256");
          try {
            const res = await fetch(url);
            if (!res.ok) throw new Error("فشل تحميل الملف");
            const buf = await res.arrayBuffer();
            const hash = await crypto.subtle.digest("SHA-256", buf);
            const hex = Array.from(new Uint8Array(hash))
              .map((b) => b.toString(16).padStart(2, "0"))
              .join("");
            input.value = hex;
            alert("تم حساب SHA-256");
          } catch (err) {
            alert("تعذر حساب checksum: " + err.message);
          }
        });
    </script>
  </body>
</html>
